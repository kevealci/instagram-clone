{"version":3,"sources":["services/firebase.js","hooks/useUser.js","components/Header.js","components/SideBar/User.js","components/SideBar/suggested-profile.js","components/SideBar/Suggestions.js","context/logged-in-user.js","components/SideBar/index.js","components/Post/Header.js","components/Post/Image.js","components/Post/Actions.js","components/Post/Footer.js","components/Post/add-comment.js","components/Post/Comments.js","components/Post/index.js","components/Timeline.js","hooks/usePhotos.js","pages/dashboard.js"],"names":["doesUsernameExist","username","a","firebase","firestore","collection","where","get","result","empty","getUserByUsername","docs","map","item","data","docId","id","getUserByUserId","userId","user","getSuggestedProfiles","following","limit","filter","profile","includes","updateLoggedInUserFollowing","loggedInUserDocId","profileId","isFollowingProfile","doc","update","FieldValue","arrayRemove","arrayUnion","updateFollowedUserFollowers","profileDocId","followers","getPhotos","userFollowedPhotos","photo","Promise","all","userLikedPhoto","likes","photosWithUserDetails","getUserPhotosByUsername","isUserFollowingProfile","loggedInUserUsername","profileUserId","response","toggleFollow","activeUserDocId","followingUserId","useUser","useState","activeUser","setActiveUser","useEffect","getUserObjByUserId","Header","loggedInUser","useContext","UserContext","uid","FirebaseContext","className","to","ROUTES","aria-label","src","alt","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","type","title","onClick","auth","signOut","onKeyDown","event","key","User","fullName","count","height","SuggestedProfile","followed","setFollowed","Suggestions","profiles","setProfiles","suggestedProfiles","length","LoggedInUserContext","createContext","SideBar","Image","caption","whyDidYourRender","Actions","totalLikes","likedPhoto","handleFocus","toggleLiked","setToggleLiked","setLikes","handleToggleLiked","tabIndex","Footer","AddComment","comments","setComments","commentInput","comment","setComment","displayName","handleSubmitComment","preventDefault","method","onSubmit","autoComplete","name","placeholder","value","onChange","target","ref","disabled","Comments","allComments","posted","slice","formatDistance","Date","Post","content","useRef","imageSrc","current","focus","dateCreated","TimeLine","photos","setPhotos","followedUserPhotos","sort","b","getTimeLinePhotos","usePhotos","width","Dashboard","document","Provider"],"mappings":"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","file":"static/js/6.a14006e0.chunk.js","sourcesContent":["import { FieldValue, firebase } from '../lib/firebase';\n\nexport async function doesUsernameExist(username) {\n  const result = await firebase\n    .firestore()\n    .collection('users')\n    .where('username', '==', username)\n    .get();\n\n  return result.empty;\n}\n\nexport async function getUserByUsername(username) {\n  const result = await firebase\n    .firestore()\n    .collection('users')\n    .where('username', '==', username)\n    .get();\n\n  return result.docs.map((item) => ({\n    ...item.data(),\n    docId: item.id\n  }));\n}\n\n// get user from the firestore where userId === userId (passed from the auth)\nexport async function getUserByUserId(userId) {\n  const result = await firebase.firestore().collection('users').where('userId', '==', userId).get();\n  const user = result.docs.map((item) => ({\n    ...item.data(),\n    docId: item.id\n  }));\n\n  return user;\n}\n\nexport async function getSuggestedProfiles(userId, following) {\n  const result = await firebase.firestore().collection('users').limit(10).get();\n  return result.docs\n    .map((user) => ({ ...user.data(), docId: user.id }))\n    .filter((profile) => profile.userId !== userId && !following.includes(profile.userId));\n}\n\nexport async function updateLoggedInUserFollowing(\n  loggedInUserDocId, // currently logged in user document id\n  profileId, // the user that request to follow\n  isFollowingProfile /// true/false (am i currently following this person?)\n) {\n  return firebase\n    .firestore()\n    .collection('users')\n    .doc(loggedInUserDocId)\n    .update({\n      following: isFollowingProfile\n        ? FieldValue.arrayRemove(profileId)\n        : FieldValue.arrayUnion(profileId)\n    });\n}\n\nexport async function updateFollowedUserFollowers(\n  profileDocId, // currently logged in user document id\n  loggedInUserDocId, // the user that request to follow\n  isFollowingProfile /// true/false (am i currently following this person?)\n) {\n  return firebase\n    .firestore()\n    .collection('users')\n    .doc(profileDocId)\n    .update({\n      followers: isFollowingProfile\n        ? FieldValue.arrayRemove(loggedInUserDocId)\n        : FieldValue.arrayUnion(loggedInUserDocId)\n    });\n}\n\nexport async function getPhotos(userId, following) {\n  const result = await firebase\n    .firestore()\n    .collection('photos')\n    .where('userId', 'in', following)\n    .get();\n\n  const userFollowedPhotos = result.docs.map((photo) => ({\n    ...photo.data(),\n    docId: photo.id\n  }));\n\n  const photosWithUserDetails = await Promise.all(\n    userFollowedPhotos.map(async (photo) => {\n      let userLikedPhoto = false;\n      if (photo.likes.includes(userId)) {\n        userLikedPhoto = true;\n      }\n      const user = await getUserByUserId(photo.userId);\n      const { username } = user[0];\n      return { username, ...photo, userLikedPhoto };\n    })\n  );\n\n  return photosWithUserDetails;\n}\n\nexport async function getUserPhotosByUsername(username) {\n  const [user] = await getUserByUsername(username);\n  const result = await firebase\n    .firestore()\n    .collection('photos')\n    .where('userId', '==', user.userId)\n    .get();\n\n  return result.docs.map((item) => ({\n    ...item.data(),\n    docId: item.id\n  }));\n}\n\nexport async function isUserFollowingProfile(loggedInUserUsername, profileUserId) {\n  const result = await firebase\n    .firestore()\n    .collection('users')\n    .where('username', '==', loggedInUserUsername)\n    .where('following', 'array-contains', profileUserId)\n    .get();\n\n  const [response = {}] = result.docs.map((item) => ({\n    ...item.data(),\n    docId: item.id\n  }));\n\n  return response.userId;\n}\n\nexport async function toggleFollow(\n  isFollowingProfile,\n  activeUserDocId,\n  profileDocId,\n  profileUserId,\n  followingUserId\n) {\n  await updateLoggedInUserFollowing(activeUserDocId, profileUserId, isFollowingProfile);\n  await updateFollowedUserFollowers(profileDocId, followingUserId, isFollowingProfile);\n}\n","import { useState, useEffect } from 'react';\nimport { getUserByUserId } from '../services/firebase';\n\nexport default function useUser(userId) {\n  const [activeUser, setActiveUser] = useState({});\n\n  useEffect(() => {\n    const getUserObjByUserId = async () => {\n      const [user] = await getUserByUserId(userId);\n      setActiveUser(user || {});\n    };\n\n    if (userId) getUserObjByUserId();\n  }, [userId]);\n\n  return { user: activeUser };\n}\n","import { useContext } from 'react';\nimport { Link } from 'react-router-dom';\nimport FirebaseContext from '../context/firebase';\nimport UserContext from '../context/user';\nimport * as ROUTES from '../constants/routes';\nimport useUser from '../hooks/useUser';\n\nexport default function Header() {\n  const { user: loggedInUser } = useContext(UserContext);\n  const { user } = useUser(loggedInUser?.uid);\n  const { firebase } = useContext(FirebaseContext);\n  // const history = useHistory();\n\n  return (\n    <header className=\"h-16 bg-white border-b border-gray-primary mb-8\">\n      <div className=\"container mx-auto max-w-screen-lg h-full\">\n        <div className=\"flex justify-between h-full\">\n          <div className=\"text-gray-700 text-center flex items-center align-items cursor-pointer\">\n            <h1 className=\"flex justify-center w-full\">\n              <Link to={ROUTES.DASHBOARD} aria-label=\"Instagram Logo\">\n                <img src=\"/images/logo.png\" alt=\"Instragram\" className=\"mt-2 w-6/12\" />\n              </Link>\n            </h1>\n          </div>\n          <div className=\"text-gray-700 text-center flex items-center align-items\">\n            {user?.username ? (\n              <>\n                <Link to={ROUTES.DASHBOARD} aria-label=\"Dashboard\">\n                  <svg\n                    className=\"w-8 mr-6 text-black-light cursor-pointer\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    fill=\"none\"\n                    viewBox=\"0 0 24 24\"\n                    stroke=\"currentColor\"\n                  >\n                    <path\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                      strokeWidth={2}\n                      d=\"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\"\n                    />\n                  </svg>\n                </Link>\n\n                <button\n                  type=\"button\"\n                  title=\"Sign Out\"\n                  onClick={() => {\n                    firebase.auth().signOut();\n                    // history.push(ROUTES.LOGIN);\n                  }}\n                  onKeyDown={(event) => {\n                    if (event.key === 'Enter') {\n                      firebase.auth().signOut();\n                      // history.push(ROUTES.LOGIN);\n                    }\n                  }}\n                >\n                  <svg\n                    className=\"w-8 mr-6 text-black-light cursor-pointer\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    fill=\"none\"\n                    viewBox=\"0 0 24 24\"\n                    stroke=\"currentColor\"\n                  >\n                    <path\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                      strokeWidth={2}\n                      d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\"\n                    />\n                  </svg>\n                </button>\n                <div className=\"flex items-center cursor-pointer\">\n                  <Link to={`/p/${user?.username}`}>\n                    <img\n                      className=\"rounded-full h-8 w-8 flex\"\n                      src={`/images/avatars/${\n                        user.username !== 'dali' &&\n                        user.username !== 'k1' &&\n                        user.username !== 'karl' &&\n                        user.username !== 'orwell' &&\n                        user.username !== 'raphael' &&\n                        user.username !== 'steve'\n                          ? 'default'\n                          : user?.username\n                      }.jpg`}\n                      alt={`${user?.username} profile`}\n                    />\n                  </Link>\n                </div>\n              </>\n            ) : (\n              <>\n                <Link to={ROUTES.LOGIN}>\n                  <button\n                    type=\"button\"\n                    className=\"bg-blue-medium font-bold text-sm rounded text-white w-20 h-8\"\n                  >\n                    Log In\n                  </button>\n                </Link>\n                <Link to={ROUTES.SIGN_UP}>\n                  <button\n                    type=\"button\"\n                    className=\"font-bold text-sm rounded text-blue-medium w-20 h-8\"\n                  >\n                    Sign Up\n                  </button>\n                </Link>\n              </>\n            )}\n          </div>\n        </div>\n      </div>\n    </header>\n  );\n}\n","import PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport Skeleton from 'react-loading-skeleton';\n\nexport default function User({ username, fullName }) {\n  return !username || !fullName ? (\n    <Skeleton count={1} height={61} />\n  ) : (\n    <Link to={`/p/${username}`} className=\"grid grid-cols-4 gap-4 mb-6 items-center\">\n      <div className=\"col-span-1 flex items-center justify-between \">\n        <img\n          className=\"rounded-full w-16 flex mr-3\"\n          src={`/images/avatars/${\n            username !== 'dali' &&\n            username !== 'k1' &&\n            username !== 'karl' &&\n            username !== 'orwell' &&\n            username !== 'raphael' &&\n            username !== 'steve'\n              ? 'default'\n              : username\n          }.jpg`}\n          alt=\"\"\n        />\n      </div>\n      <div className=\"col-span-3\">\n        <p className=\"font-bold text-sm\">{username}</p>\n        <p className=\"text-sm\">{fullName}</p>\n      </div>\n    </Link>\n  );\n}\n\nUser.propTypes = {\n  username: PropTypes.string,\n  fullName: PropTypes.string\n};\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { updateLoggedInUserFollowing, updateFollowedUserFollowers } from '../../services/firebase';\n\nexport default function SuggestedProfile({\n  profileDocId,\n  username,\n  profileId,\n  userId,\n  loggedInUserDocId\n}) {\n  const [followed, setFollowed] = useState(false);\n\n  async function handleFollowUser() {\n    setFollowed(true);\n\n    await updateLoggedInUserFollowing(loggedInUserDocId, profileId, false);\n\n    await updateFollowedUserFollowers(profileDocId, userId, false);\n  }\n\n  return !followed ? (\n    <div className=\"flex flex-row items-center align-items justify-between\">\n      <div className=\"flex items-center justify-between\">\n        <img\n          className=\"rounded-full w-8 flex mr-3\"\n          src={`/images/avatars/${\n            username !== 'dali' &&\n            username !== 'k1' &&\n            username !== 'karl' &&\n            username !== 'orwell' &&\n            username !== 'raphael' &&\n            username !== 'steve'\n              ? 'default'\n              : username\n          }.jpg`}\n          alt=\"\"\n        />\n        <Link to={`/p/${username}`}>\n          <p className=\"font-bold text-sm\">{username}</p>\n        </Link>\n      </div>\n      <div>\n        <button\n          className=\"text-xs font-bold text-blue-medium\"\n          type=\"button\"\n          onClick={handleFollowUser}\n        >\n          Follow\n        </button>\n      </div>\n    </div>\n  ) : null;\n}\n\nSuggestedProfile.propTypes = {\n  profileDocId: PropTypes.string,\n  username: PropTypes.string,\n  profileId: PropTypes.string,\n  userId: PropTypes.string,\n  loggedInUserDocId: PropTypes.string\n};\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport Skeleton from 'react-loading-skeleton';\nimport { getSuggestedProfiles } from '../../services/firebase';\nimport SuggestedProfile from './suggested-profile';\n\nexport default function Suggestions({ userId, following, loggedInUserDocId }) {\n  const [profiles, setProfiles] = useState(null);\n\n  // go ahead and get the suggested profiles\n  useEffect(() => {\n    async function suggestedProfiles() {\n      const response = await getSuggestedProfiles(userId, following);\n      setProfiles(response);\n    }\n    if (userId) {\n      suggestedProfiles();\n    }\n  }, [userId, following]);\n\n  return !profiles ? (\n    <Skeleton count={1} height=\"mt-5\" />\n  ) : profiles.length > 0 ? (\n    <div className=\"rounded flex flex-col\">\n      <div className=\"text-sm flex items-center align-items justify-between mb-2\">\n        <p className=\"font-bold text-gray-base\">Suggestions for you</p>\n      </div>\n      <div className=\"mt-4 grid gap-5\">\n        {profiles.map((profile) => (\n          <SuggestedProfile\n            key={profile.docId}\n            profileDocId={profile.docId}\n            username={profile.username}\n            profileId={profile.userId}\n            userId={userId}\n            loggedInUserDocId={loggedInUserDocId}\n          />\n        ))}\n      </div>\n    </div>\n  ) : null;\n}\n\nSuggestions.propTypes = {\n  userId: PropTypes.string,\n  following: PropTypes.array,\n  loggedInUserDocId: PropTypes.string\n};\n","import { createContext } from 'react';\n\nconst LoggedInUserContext = createContext(null);\nexport default LoggedInUserContext;\n","import React, { useContext } from 'react';\nimport User from './User';\nimport Suggestions from './Suggestions';\nimport LoggedInUserContext from '../../context/logged-in-user';\n\nexport default function SideBar() {\n  const { user: { docId = '', fullName, username, userId, following } = {} } =\n    useContext(LoggedInUserContext);\n\n  return (\n    <div className=\"p-4\">\n      <User username={username} fullName={fullName} />\n      <Suggestions userId={userId} following={following} loggedInUserDocId={docId} />\n    </div>\n  );\n}\n\nSideBar.whyDidYourRender = true;\n","import PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\n\nexport default function Header({ username }) {\n  return (\n    <div className=\"flex border-b border-gray-primary h-4 p-4 py-8\">\n      <div className=\"flex items-center\">\n        <Link to={`/p/${username}`} className=\"flex items-center\">\n          <img\n            className=\"rounded-full h-8 w-8 flex mr-3\"\n            src={`/images/avatars/${username}.jpg`}\n            alt={`${username} profile`}\n          />\n        </Link>\n        <p className=\"font-bold\">{username}</p>\n      </div>\n    </div>\n  );\n}\n\nHeader.propTypes = {\n  username: PropTypes.string\n};\n","import PropTypes from 'prop-types';\n\nexport default function Image({ src, caption }) {\n  return <img src={src} alt={caption} />;\n}\n\nImage.propTypes = {\n  src: PropTypes.string,\n  caption: PropTypes.string\n};\n","import { useState, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport FirebaseContext from '../../context/firebase';\nimport UserContext from '../../context/user';\n\nexport default function Actions({ docId, totalLikes, likedPhoto, handleFocus }) {\n  const {\n    user: { uid: userId }\n  } = useContext(UserContext);\n  const [toggleLiked, setToggleLiked] = useState(likedPhoto);\n  const [likes, setLikes] = useState(totalLikes);\n  const { firebase, FieldValue } = useContext(FirebaseContext);\n\n  const handleToggleLiked = async () => {\n    setToggleLiked((toggleLiked) => !toggleLiked);\n\n    await firebase\n      .firestore()\n      .collection('photos')\n      .doc(docId)\n      .update({\n        likes: toggleLiked ? FieldValue.arrayRemove(userId) : FieldValue.arrayUnion(userId)\n      });\n\n    setLikes((likes) => (toggleLiked ? likes - 1 : likes + 1));\n  };\n\n  return (\n    <>\n      <div className=\"flex justify-between p-4\">\n        <div className=\"flex\">\n          <svg\n            onClick={handleToggleLiked}\n            onKeyDown={(event) => {\n              if (event.key === 'Enter') {\n                handleToggleLiked();\n              }\n            }}\n            xmlns=\"http://www.w3.org/2000/svg\"\n            fill=\"none\"\n            viewBox=\"0 0 24 24\"\n            stroke=\"currentColor\"\n            tabIndex={0}\n            className={`w-8 mr-4 select-none cursor-pointer focus:outline-none ${\n              toggleLiked ? 'fill-red text-red-primary' : 'text-black-light'\n            }`}\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\"\n            />\n          </svg>\n          <svg\n            onClick={handleFocus}\n            onKeyDown={(event) => {\n              if (event.key === 'Enter') {\n                handleFocus();\n              }\n            }}\n            className=\"w-8 text-black-light select-none cursor-pointer focus:outline-none\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            fill=\"none\"\n            viewBox=\"0 0 24 24\"\n            stroke=\"currentColor\"\n            tabIndex={0}\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\n            />\n          </svg>\n        </div>\n      </div>\n      <div className=\"p-4 py-0\">\n        <p className=\"font-bold\">{likes === 1 ? `${likes} like` : `${likes} likes`}</p>\n      </div>\n    </>\n  );\n}\n\nActions.propTypes = {\n  docId: PropTypes.string,\n  totalLikes: PropTypes.number,\n  likedPhoto: PropTypes.bool,\n  handleFocus: PropTypes.func\n};\n","import PropTypes from 'prop-types';\n\nexport default function Footer({ caption, username }) {\n  return (\n    <div className=\"p-4 pt-2 pb-0\">\n      <span className=\"mr-1 font-bold\">{username}</span>\n      <span>{caption}</span>\n    </div>\n  );\n}\n\nFooter.propTypes = {\n  caption: PropTypes.string,\n  username: PropTypes.string\n};\n","import { useState, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport FirebaseContext from '../../context/firebase';\nimport UserContext from '../../context/user';\n\nexport default function AddComment({ docId, comments, setComments, commentInput }) {\n  const [comment, setComment] = useState('');\n  const { firebase, FieldValue } = useContext(FirebaseContext);\n  const {\n    user: { displayName }\n  } = useContext(UserContext);\n\n  const handleSubmitComment = (event) => {\n    event.preventDefault();\n\n    setComments([{ displayName, comment }, ...comments]);\n    setComment('');\n\n    return firebase\n      .firestore()\n      .collection('photos')\n      .doc(docId)\n      .update({\n        comments: FieldValue.arrayUnion({ displayName, comment })\n      });\n  };\n\n  return (\n    <div>\n      <form\n        className=\"flex justify-between pl-0 pr-5\"\n        method=\"POST\"\n        onSubmit={(event) =>\n          comment.length >= 1 ? handleSubmitComment(event) : event.preventDefault()\n        }\n      >\n        <input\n          aria-label=\"Add a comment\"\n          autoComplete=\"off\"\n          className=\"text-sm text-gray-base w-full mr-3 py-5 px-4\"\n          type=\"text\"\n          name=\"add-comment\"\n          placeholder=\"Add a comment...\"\n          value={comment}\n          onChange={({ target }) => setComment(target.value)}\n          ref={commentInput}\n        />\n        <button\n          className={`text-sm font-bold text-blue-medium ${!comment && 'opacity-25'}`}\n          type=\"button\"\n          disabled={comment.length < 1}\n          onClick={handleSubmitComment}\n        >\n          Post\n        </button>\n      </form>\n    </div>\n  );\n}\n\nAddComment.propTypes = {\n  docId: PropTypes.string,\n  comments: PropTypes.array,\n  setComments: PropTypes.func,\n  commentInput: PropTypes.object\n};\n","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { formatDistance } from 'date-fns';\nimport { Link } from 'react-router-dom';\nimport AddComment from './add-comment';\n\nexport default function Comments({ docId, comments: allComments, posted, commentInput }) {\n  const [comments, setComments] = useState(allComments);\n  return (\n    <>\n      <div className=\"p-4 pt-1 pb-4\">\n        {comments.length > 3 && (\n          <p className=\"text-sm text-gray-base mb-1 cursor-pointer\">\n            View all {comments.length} comments\n          </p>\n        )}\n        {comments.slice(0, 3).map((item) => (\n          <p key={`${item.comment}-${item.displayName}`} className=\"mb-1\">\n            <Link to={`/p/${item.displayName}`}>\n              <span className=\"mr-1 font-bold\">{item.displayName}</span>\n            </Link>\n            <span>{item.comment}</span>\n          </p>\n        ))}\n        <p className=\"text-gray-base uppercase text-xs mt-2\">\n          {formatDistance(posted, new Date())} ago\n        </p>\n      </div>\n      <AddComment\n        docId={docId}\n        comments={comments}\n        setComments={setComments}\n        commentInput={commentInput}\n      />\n    </>\n  );\n}\n\nComments.propTypes = {\n  docId: PropTypes.string,\n  comments: PropTypes.array,\n  posted: PropTypes.number,\n  commentInput: PropTypes.object\n};\n","import { useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport Header from './Header';\nimport Image from './Image';\nimport Actions from './Actions';\nimport Footer from './Footer';\nimport Comments from './Comments';\n\nexport default function Post({ content }) {\n  const commentInput = useRef(null);\n\n  const handleFocus = () => commentInput.current.focus();\n\n  return (\n    <div className=\"rounded col-span-4 border bg-white border-gray-primary mb-12\">\n      <Header username={content.username} />\n      <Image src={content.imageSrc} caption={content.caption} />\n      <Actions\n        docId={content.docId}\n        totalLikes={content.likes.length}\n        likedPhoto={content.userLikedPhoto}\n        handleFocus={handleFocus}\n      />\n      <Footer caption={content.caption} username={content.username} />\n      <Comments\n        docId={content.docId}\n        comments={content.comments}\n        posted={content.dateCreated}\n        commentInput={commentInput}\n      />\n    </div>\n  );\n}\n\nPost.propTypes = {\n  content: PropTypes.shape({\n    username: PropTypes.string,\n    imageSrc: PropTypes.string,\n    caption: PropTypes.string,\n    docId: PropTypes.string,\n    userLikedPhoto: PropTypes.bool,\n    likes: PropTypes.array,\n    comments: PropTypes.array,\n    dateCreated: PropTypes.number\n  })\n};\n","import { useContext } from 'react';\nimport Skeleton from 'react-loading-skeleton';\nimport LoggedInUserContext from '../context/logged-in-user';\nimport usePhotos from '../hooks/usePhotos';\nimport Post from './Post';\n\nexport default function TimeLine() {\n  const { user } = useContext(LoggedInUserContext);\n  const { photos } = usePhotos(user);\n\n  return (\n    <div className=\"container col-span-2\">\n      {!photos ? (\n        <>\n          <Skeleton count={4} width={640} height={500} className=\"mb-5\" />\n        </>\n      ) : (\n        photos.map((content) => <Post key={content.id} content={content} />)\n      )}\n    </div>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport { getPhotos } from '../services/firebase';\n\nexport default function usePhotos(user) {\n  const [photos, setPhotos] = useState(null);\n\n  useEffect(() => {\n    async function getTimeLinePhotos() {\n      // does the user actually follow people?\n      if (user?.following?.length > 0) {\n        const followedUserPhotos = await getPhotos(user.userId, user.following);\n        followedUserPhotos.sort((a, b) => b.dateCreated - a.dateCreated);\n        setPhotos(followedUserPhotos);\n      }\n    }\n\n    getTimeLinePhotos();\n  }, [user.userId]);\n\n  return { photos };\n}\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport Header from '../components/Header';\nimport SideBar from '../components/SideBar';\nimport TimeLine from '../components/Timeline.js';\nimport useUser from '../hooks/useUser';\nimport LoggedInUserContext from '../context/logged-in-user';\n\nexport default function Dashboard({ user: loggedInUser }) {\n  const { user } = useUser(loggedInUser.uid);\n  useEffect(() => {\n    document.title = 'Instagram';\n  }, []);\n  return (\n    <LoggedInUserContext.Provider value={{ user }}>\n      <div className=\"bg-gray-background\">\n        <Header />\n        <div className=\"grid grid-cols-3 gap-4 justify-between mx-auto max-w-screen-lg\">\n          <TimeLine />\n          <SideBar />\n        </div>\n      </div>\n    </LoggedInUserContext.Provider>\n  );\n}\n\nDashboard.propTypes = {\n  user: PropTypes.object\n};\n"],"sourceRoot":""}